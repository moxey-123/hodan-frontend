<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hodan Training College Dashboard</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<script>
  if (!localStorage.getItem("adminToken")) {
    window.location.href = "login.html";
  }
</script>

<div class="container">
  <div class="sidebar">
    <h2>Hodan 22</h2>
    <a href="#" data-page="dashboard" class="active">Dashboard</a>
    <a href="#" data-page="courses">Courses</a>
    <a href="#" data-page="students">Students</a>
    <a href="#" data-page="register">Register</a>
    <a href="#" id="logoutBtn">Logout</a>
    <button id="themeToggleBtn">Toggle Dark/Light</button>
  </div>

  <div class="main">
    <!-- Dashboard -->
    <div id="dashboard" class="page">
      <h1 id="dashboardTitle">NIMCO HODAN TRAINING COLLEGE</h1>
      <div class="stats">
        <div class="card"><h3>Total Courses</h3><p id="totalCourses">0</p></div>
        <div class="card"><h3>Total Students</h3><p id="totalStudents">0</p></div>
      </div>
    </div>

    <!-- Courses -->
    <div id="courses" class="page" style="display:none;">
      <h2>Courses</h2>
      <div class="courseForm">
        <input id="courseName" placeholder="Course Name">
        <input id="courseFee" type="number" placeholder="Fee">
        <button id="addCourseBtn">Add Course</button>
      </div>
      <div id="courseList"></div>
    </div>

    <!-- Students -->
    <div id="students" class="page" style="display:none;">
      <h2>Students List by Course</h2>

      <div class="studentFilter" style="margin-bottom:1rem;">
        <label for="filterMonth">Month:</label>
        <select id="filterMonth">
          <option value="">All</option>
        </select>

        <label for="filterYear">Year:</label>
        <select id="filterYear"></select>

        <button id="applyFilterBtn">Apply Filter</button>
        <button id="clearFilterBtn">Clear Filter</button>
      </div>

      <div id="studentList"></div>
    </div>

    <!-- Register Student -->
    <div id="register" class="page" style="display:none;">
      <h2>Register Student</h2>
      <input id="regAdmissionNumber" placeholder="Admission Number (e.g. IT-400/25)">
      <input id="regFirstName" placeholder="First Name">
      <input id="regLastName" placeholder="Last Name">
      <input id="regIDNumber" placeholder="ID Number">
      <input id="regPhone" placeholder="Phone Number">
      <select id="regCourseSelect"></select>
      <input id="regStudentPaid" type="number" placeholder="Paid Amount">

      <select id="regDay"></select>
      <select id="regMonth"></select>
      <select id="regYear"></select>

      <button id="regStudentBtn">Register</button>
    </div>
  </div>
</div>

<script src="js/app.js"></script>
<script>
  // Populate days (1-31)
  const daySelect = document.getElementById("regDay");
  for(let d=1; d<=31; d++){
    const option = document.createElement("option");
    option.value = d;
    option.text = d;
    daySelect.add(option);
  }

  // Populate months
  const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];
  const monthSelect = document.getElementById("regMonth");
  months.forEach((m,i)=>{
    const option = document.createElement("option");
    option.value = i+1;
    option.text = m;
    monthSelect.add(option);
  });

  const filterMonth = document.getElementById("filterMonth");
  months.forEach((m,i)=>{
    const option = document.createElement("option");
    option.value = i+1;
    option.text = m;
    filterMonth.add(option);
  });

  // Populate years (last 10)
  const currentYear = new Date().getFullYear();
  const yearSelect = document.getElementById("regYear");
  const filterYear = document.getElementById("filterYear");
  for(let i=currentYear; i>=currentYear-10; i--){
    const option1 = document.createElement("option");
    option1.value = i;
    option1.text = i;
    yearSelect.add(option1);

    const option2 = document.createElement("option");
    option2.value = i;
    option2.text = i;
    filterYear.add(option2);
  }

  // Dark/Light Toggle
  const themeBtn = document.getElementById("themeToggleBtn");
  themeBtn.onclick = () => {
    document.body.classList.toggle("dark-mode");
    localStorage.setItem("darkMode", document.body.classList.contains("dark-mode"));
  };

  // Load saved theme
  if(localStorage.getItem("darkMode") === "true") {
    document.body.classList.add("dark-mode");
  }
</script>
</body>
</html>
